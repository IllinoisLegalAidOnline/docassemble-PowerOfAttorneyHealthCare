metadata:
  title: Power of Attorney for Health Care
  short title: POA health care
  comment: This program helps you create documents to give another person access or control of your health care decisions.
  authors:
    - Vivian McNaughton
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
---
objects:
  - principal: ALIndividual
  - agent: ALIndividual
  - successors: ALPeopleList.using(
        object_type=ALIndividual,
        complete_attribute='complete',
        there_are_any=True)
  - witnesses: ALPeopleList
  - success_strings: DAList
  - preview: DAStaticFile.using(filename="power_of_planning.pdf")
---
code: |
  ilao_easy_form_title = "Power of Attorney for Health Care"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/power-attorney-health-care"
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-PowerOfAttorneyHealthCare'
#---
#sections:
#  - review_answers: Review your answers
---
# Road map
sections:
  - section_intro: Start
  #- section_qualify: Do you qualify?
  - section_principal: Principal
  - section_agent: Agent and powers
  - section_successors: Successor agents
  - section_witness: Witnesses
  - section_download: Download
---
# interview order block
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start
  set_progress(5)
  about_poa
  about_agents
  how_to_use
  accept_terms
  next_steps
  nav.set_section('section_principal')
  if for_yourself == False:
    other_principal
  set_progress(20)
  principal.name.first
  if also_known_as:
    formerly_or_also
  if in_illinois == False:
    illinois_kickout
  principal.address.address
  nav.set_section('section_agent')
  agent.name.first
  if agent.in_america == False:
    agent.intl_address_full
  set_progress(40)
  agent.phone_number
  is_guardian
  if when_authorize == "do_not":
    authorization_warning
  if when_authorize == 'only':
    health_records
  if quality_of_life == "do_not":
    quality_warning
  set_progress(60)
  if for_yourself == True:
    self_remains_preference
    self_organ_donor
  else:
    other_remains_preference
    other_organ_donor
  if agent_limitation:
    limit_checkboxes
  revocation_info
  delayed_revocation
  nav.set_section('section_successors')
  if any_successors == True:
    successors.gather()
    #show_successors
  nav.set_section('section_witness')
  set_progress(80)
  witness_info
  if witness_known == True:
    witnesses[0].name.first
    witnesses[0].address_string
    if second_witness_known:
      witnesses[1].name.first
      witnesses[1].address_string
  notary_info
  nav.set_section('section_download')
  if when_authorize == "do_not" or quality_of_life == "do_not":
    completion_reminder
  set_progress(100)
  list_successors
  agent_instructions
  forms_assembling
  snapshot_forms
  get_docs_screen
---
code: |
  stuff_to_snapshot = {
  	'start_time': str(current_datetime().format_datetime()),
  	'started_interview': True, 
  	}
  
  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass
  
  stuff_to_snapshot['user_zip'] = showifdef('users[0].address.zip')

  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')
  
  stuff_to_snapshot['user_is_principal'] = showifdef('for_yourself') 
  
  store_variables_snapshot(
  	data=stuff_to_snapshot, persistent=True
  	)
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---
id: welcome
question: |
  Power of Attorney for Health Care
subquestion: |
  Welcome to Illinois Legal Aid Online's **Power of Attorney for Health Care** Easy Form.

  This program helps you make documents that give someone you trust power of attorney to make decisions about your health care. This means they can make choices about your health care when you cannot. You can also let them make choices about your health care earlier, if you choose.

  This program has videos with information about making a Power of Attorney for Health Care. You do not have to watch them, but you may find them helpful.
  
  To learn more, read ILAO's article about [**Power of Attorney for Health Care basics**](https://www.illinoislegalaid.org/legal-information/setting-power-attorney-healthcare).
field: sees_nav_bar
---
id: instructions
continue button field: how_to_use
question: |
  Instructions
subquestion: |  
  To use this program you will need to know:

  * The name, location, and phone number of someone you trust to make health care decisions for you to be your agent, and
  * The names, location, and phone numbers of any **{successor agents.

  The program will ask you:
  
  * When you want your agent to start making decisions, and
  * What you want your agent to do regarding your health care.
    
  Set aside 10 to 15 minutes to finish this program, and more time if you watch the videos. You can log in and save your work to return to later. 
  
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some questions have a question mark in a circle ${ fa_icon("question-circle", color_css="#0DCAF0" ) } that also gives help.
successor agents: |
    A **successor agent** is a back-up agent. They would have power of attorney if the first dies, becomes incompetent, quits, or refuses to act as your power of attorney agent.
---
template: help_example

subject: |

  **You can expand sections like this to show more information.**

content: |  

  This is an example of help. Click again to hide.
---
id: next steps
continue button field: next_steps
question: |
  Your next steps
subquestion: |
    After you download your forms, you will need to sign the form in the front of a witness. The witness will also need to sign the form. You do not need to know who the witness will be to use this program.
    
    After the form is signed, you will want to give copies of the power of attorney to your agent as well as your health care providers. Your forms will include instructions with more information.
    
    To learn more, read ILAO's article about [**Power of Attorney for Health Care basics**](https://www.illinoislegalaid.org/legal-information/setting-power-attorney-healthcare). 
    
    If you would like to know more about planning for disability or end of life care, you can review ILAO and CDEL's guide to the [**Power of Planning**](${ preview.url_for() }).
---
# Add <Video: Why I decided to make a POA-HC>
id: about power of attorney
continue button field: about_poa
question: |
  About the Power of Attorney for Health Care
subquestion: |
  A Power of Attorney for Health Care is a form that lets you choose a person you trust to make health care decisions for you. The person you choose will be able to make health care decisions for you when you can't make decisions for yourself. This written form is often called an "advance directive."

  [YOUTUBE -1pMMIe4hb4]
  
  The person you choose could make decisions like:
  
  * What medical treatment you get,
  * Whether to admit you to a hospital,
  * End-of-life decisions, and
  * What happens to your body when you die.

  **Note:** If you can communicate and understand your choices, you are the decision maker.
---
#Add video Who should I pick as my agent?"
id: about agents
continue button field: about_agents
question: |
  About agents
subquestion: |
  Your agent is a person you trust and choose to make health care decisions for you, if you ever need help. 

  The agent must be at least 18 years old. The agent does not have to be a family member but it should be someone you trust. Your agent does not need to be a United States citizen. 

  You can select successor agents as backup if the first agent becomes unable to make these decisions.

  ${collapse_template(video_who_agent)}

   **Note:** If you can communicate and understand your choices, you are the decision maker.

  To learn more, read ILAO's article about [**Power of Attorney for Health Care basics**](https://www.illinoislegalaid.org/legal-information/setting-power-attorney-healthcare).
---
template: video_who_agent
subject: |
  **Video: Who should I select as my agent?**
content: |
  [YOUTUBE -1pMMIe4hb4]
---
id: accept terms
question: |
  Terms of use
subquestion: |
  This program does not provide legal advice. It does not take the place of advice from a lawyer.

  Using this program does not create an attorney-client relationship between you and Illinois Legal Aid Online or its employees.

  The videos in this program give important information about the advance planning process. They provide information only, not legal advice. They do not create an attorney-client relationship between you and the Center for Disability and Elder Law or its employees.

  ${ collapse_template(get_legal_help) }  

fields:
  - To continue, you must accept the [**terms of use**](https://www.illinoislegalaid.org/about/terms-of-use) and [**privacy policy**](https://www.illinoislegalaid.org/about/privacy-policy).: accept
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I accept the terms of use and privacy policy.
    validation messages:
      minlength: |
        You cannot continue unless you agree to the terms of use and privacy policy.
continue button field: accept_terms
---
template: get_legal_help
subject: |
  **What if I need legal advice?**
content: |  
  If you have questions or concerns about your legal problem and want legal advice, you should talk to a lawyer.
  
  Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
---
depends on: 
  - for_yourself
  - principal.name.first
  - principal.name.middle
  - principal.name.last
  - principal.name.suffix
code: |
  if for_yourself:
    my_their = "my"
    my_subject = "my"
    your_their = "your"
    your_subject = "your"
    do_does = "do"
    you_subject = "you"
    i_subject = "I"
    myself_their_self = "myself"
    yourself_their_self = "yourself"
    am_is = "am"
    have_has = "have"
    i_they = "I"
    me_subject = "me"
    me_them = "me"
    am_are = "am"
    you_they = "you"
  else:
    my_their = "their"
    my_subject = principal.name_full()
    my_subject += "'s"
    your_subject = principal.name_full()
    your_subject += "'s"
    your_their = "their"
    you_subject = principal.name_full()
    i_subject = principal.name_full()
    do_does = " does"
    myself_their_self = "their self"
    yourself_their_self = "their self"
    am_is = "is"
    have_has = "has"
    i_they = "they"
    me_subject = principal.name_full()
    me_them = "them"
    am_are = "are"
    you_they = "they"
---
id: for yourself
question: |
  Are you making these forms for yourself?
subquestion: |
  In other words, are you the **{principal}** who wants to name an **{agent}**?

  If you are making these forms for someone else, that person will be the principal.
fields:
  - no label: for_yourself
    datatype: yesnoradio
terms:
  - principal: |
       The **principal** is the person who chooses someone they trust to make decisions about their health care. If this is your document, you are the principal. 
  - agent: |
       The **agent** is the person the principal trusts and chooses to make health care decisions for them, if the principal ever needs help. If this is your document, you are giving the agent power to make health care decisions for you, if you ever need help.
---
id: other principal notice
continue button field: other_principal
question: |
  Making a Power of Attorney for someone else
subquestion: |
  You can use this program for someone other than yourself, but:
  
  * That person must have directed you to make a Power of Attorney for Health Care,
  * That person must have legal capacity, which means they know what they are signing and what it means for their future, and
  * That person must choose what powers they want to give their agent.
  
   When you help someone make a Power of Attorney for Health Care form, you must follow their express wishes. **They should be with you, providing information and making decisions as you make the form.** If they cannot understand what they are signing or tell you their wishes, you should not use this program. 
  
  **Warning:** If you make a Power of Attorney for someone else, and the form does not follow their instructions, you could face legal consequences. You could be charged with identity theft, forgery, elder abuse, or other crimes which can be punished with jail time.
---
depends on:
  - for_yourself
code: |
  if for_yourself:
    i_they = "I"
  else:
    i_they = "they"
---
id: principal name
question: |
  % if for_yourself == True:
  What is your name?
  % else:
  What is the principal's name?
  % endif
subquestion: |
  % if for_yourself == False:
  The principal is the person who chooses an agent to make decisions about their medical treatment.
  
  You should enter their legal name on their government-issued identification. 

  You may want to click **They have another name** if:

  * They go by a name other than their legal name, or
  * They have changed their name and also have an old legal name that is not on their identification.
  
  You can then enter that name in the **Additional name** field.

  ${collapse_template(changed_name)}
  % else:
  You should enter your legal name on your government-issued identification. 

  You may want to click **I have another name** if:

  * You go by a name other than your legal name, or
  * You have changed your name and also have an old legal name that is not on your identification.
  
  You can then enter that name in the **Additional name** field.

  ${collapse_template(changed_name)}
  % endif
fields:
  - First: principal.name.first
  - Middle: principal.name.middle
    required: False
  - Last: principal.name.last
  - ${capitalize(i_they)} have another name.: also_known_as
    datatype: yesnowide
  - Additional name: principal.aka_name
    js show if:
      val('also_known_as') === true
  - Is the additional name an old legal name?: formerly_or_also
    datatype: yesnoradio
    js show if:
      val('also_known_as') === true
---
template: changed_name
subject: |
  **What if I have gotten a legal name change?**
content: |
  If you have legally changed your name, you should click **I have another name** and list your old legal name in the **Additional name** field. This will list both names on your form.

  This is important to do if you have medical records or other documents that use your old name.
---
#id: formerly or also
#question: |
#  Is ${principal.aka_name} a former legal name?
#fields:
#  - no label: formerly_or_also
#    datatype: yesnoradio
---
id: in illinois
question: |
  % if for_yourself == True:
  Are you a resident of Illinois?
  % else:
  Is ${principal.name_full()} a resident of Illinois?
  % endif
fields:
  - no label: in_illinois
    datatype: yesnoradio
---
id: illinois kickout
event: illinois_kickout
question: |
  Sorry
subquestion: |
  % if for_yourself == True:
  You must be an Illinois resident to use this form.
  % else:
  ${principal.name_full()} must be an Illinois resident to use this form.
  % endif
  
  If you do not live in Illinois, use [**the Legal Services Corporation website**](https://www.lsc.gov/about-lsc/what-legal-aid/get-legal-help) to find a legal aid organization near you.
buttons:
  - Exit: exit
  - Restart: restart
---
id: principal address
question: |
  % if for_yourself == True:
  What is your address?
  % else:
  What is ${principal.name_full()}'s address?
  % endif
fields:
  - Street address: principal.address.address
    address autocomplete: True
  - Address line 2: principal.address.unit
    required: False
  - City: principal.address.city
  - State: principal.address.state
    code: |
      states_list() 
  - ZIP code: principal.address.zip
---
#Add "Who should I select as my agent?" video
id: agent name
question: |
  % if for_yourself == True:
  Who do you want to name as your agent?
  % else:
  Who does ${principal.name_full()} want to name as their agent?
  % endif
subquestion: |
  ${collapse_template(video_who_agent)}
  
  % if for_yourself == False:
  The agent is the person ${principal.name_full()} trusts to make decisions for them about their health care. It is very important they talk to their agent about their wishes and feelings about health care, including end-of-life decisions. Meaningful conversations will guide the agent's judgment and make sure they are both on the same page.

  An agent has a lot of power, and it is possible that they could abuse that power. ${principal.name_full()} should choose someone they trust with their health and well-being.
  The agent is the person who will make medical decisions for ${principal.name_full()} if ${principal.name_full()} is too ill to make or communicate their own choices.
  % else:
  Your agent is the person you trust to make decisions for you about your health care. It is very important to talk to your agent about your wishes and feelings about health care, including end-of-life decisions. Meaningful conversations with you will guide their judgment and make sure you are on the same page.

  An agent has a lot of power, and it is possible that they could abuse that power. You should choose someone you trust with your health and well-being.
  % endif  

  ${collapse_template(agent_require)}
fields:
  - First: agent.name.first
  - Middle: agent.name.middle
    required: False
  - Last: agent.name.last
---
template: agent_require
subject: |
  **Requirements for agents and successors**
content: |
  The agent must be at least 18 years old. The agent does not have to be a family member but it should be someone you trust. The agent does not need to be a United States citizen. 

  You can select successor agents as backup if the first agent becomes unable to make these decisions.
---
id: agent address
question: |
  Enter ${agent.name_full()}'s address
subquestion: |
  ${collapse_template(intl_address_help)}
fields:
  - Does ${agent.name_full()} have a United States address?: agent.in_america
    datatype: yesnoradio
    default: True
    help: |
      Click **No** if you want to list an address outside the United States. You should enter the international address using the English alphabet.
  - Street address: agent.address.address
    address autocomplete: True
    required: False
    show if: agent.in_america
  - Address line 2: agent.address.unit
    required: False
    show if: agent.in_america
  - City: agent.address.city
    show if: agent.in_america
  - State: agent.address.state
    show if: agent.in_america
    code: |
      states_list() 
  - ZIP code: agent.address.zip
    required: False
    show if: agent.in_america
  - Non-US address line 1 (street address, apartment number): agent.intl_address_1
    required: False
    show if: 
      variable: agent.in_america
      is: False
  - Non-US address line 2 (city, province or state, postal code, country): agent.intl_address_2
    show if: 
      variable: agent.in_america
      is: False
---
template: intl_address_help
subject: |
  **Does the agent have to live in the United States or be a US citizen?**
content: |
  No. You are able to list someone outside of the United States as the agent. The agent does not need to be a United States citizen. However, there may issues if a bank or financial organization is unable to reach them. You may want to ask a lawyer for advice. Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
  
  For international addresses, there will be space for two lines to enter the address. You should enter the international address using the English alphabet.
---
id: agent phone
question: |
  What is ${agent.name_full()}'s phone number?
subquestion: |
  % if for_yourself:
  A valid phone number is required so doctors or medical staff can contact your agent.
  % else:
  A valid phone number is required so doctors or medical staff can contact ${principal.name_full()}'s agent.
  % endif
fields:
  - Phone number: agent.phone_number
    datatype: al_international_phone
---
id: agent as guardian
question: |
  % if for_yourself == True:
  Do you want to nominate ${agent.name_full()} as your legal guardian, if needed?
  % else:
  Does ${principal.name_full()} want to nominate ${agent.name_full()} as their legal guardian, if needed?
  % endif
subquestion: |
  To "nominate" means to suggest or propose a person a court can choose to act as guardian.

  % if for_yourself == True:
  A court may find it necessary to appoint a legal guardian to manage your health and well-being. A guardian is able to make decisions on matters other than health care and would typically have rights, powers, and duties over you similar to the ones parents have over their minor children. 
  % else:
  A court may find it necessary to appoint a legal guardian to manage ${principal.name_full()}'s health and well-being. A guardian is able to make decisions on matters other than health care and would typically have rights, powers, and duties over ${principal.name_full()} similar to the ones parents have over their minor children
  % endif
  
  If you click **No**, then a court may appoint someone other than ${agent.name_full()} to be guardian if needed. Even if you click **Yes**, a court may still appoint someone else as guardian if they find that ${agent.name_full()} is breaching their duty.
fields:
  - no label: is_guardian
    datatype: yesnoradio
---
template: video_agent_when
subject: |
  **Video: When do you want to start your Power of Attorney?**
content: |
  [YOUTUBE -1pMMIe4hb4]
---
#Add "When can Agent name make health care decisions for you?" video
id: agent authorization you
question: |
  When can ${agent.name_full()} make health care decisions for you?
subquestion: |
  This Power of Attorney will go into effect once you cannot make decisions for yourself unless you state it should take effect at an earlier time.

  ${collapse_template(video_agent_when)}

  You will still have the authority to make decisions. ${agent.name_full()} will be able to make decisions for you when you are unable to.

  You can still change your mind and **{revoke}** the Power of Attorney after you sign it.
fields: 
  - When can ${agent.name_full()} make decisions?: when_you_authorize
    input type: radio
    choices:
      - Only when I cannot make decisions for myself.: only
        help: |
          A doctor will determine when you are unable to make decisions.
      - Now and continuing after I am no longer able to make decisions for myself. If I can communicate choices, I will be the decision maker even if the Power of Attorney is in effect: now
      - I do not want to decide this now.: do_not
        help: |
          If you do not make a choice before signing, the Power of Attorney will default to the first choice. That means your agent will not make decisions for you until a doctor determines that you cannot make your own decisions.
terms:
  revoke: |
    To **revoke** a Power of Attorney means to undo, destroy, or void it.
---
id: agent authorization principal
question: |
  When can ${agent.name_full()} make health care decisions for  ${principal.name_full()}?
subquestion: |
  This Power of Attorney will go into effect once ${principal.name_full()} cannot make decisions for their self unless they state it should take effect at an earlier time.

  ${collapse_template(video_agent_when)}

  ${principal.name_full()} will still have the authority to make decisions. ${agent.name_full()} will be able to make decisions for them when they are unable to.

  ${principal.name_full()} can still change their mind and **{revoke}** the Power of Attorney after they sign it.
field: when_principal_authorize
choices:
  - Only when ${principal.name_full()} cannot make decisions for their self.: only
    help: |
      A doctor will determine when they are unable to make decisions.
  - Now and continuing after ${principal.name_full()} is no longer able to make decisions for their self.  If they can communicate choices, they will be the decision maker even if the Power of Attorney is in effect: now
  - ${principal.name_full()} does not want to decide this now.: do_not
    help: |
      If they do not make a choice before signing, the Power of Attorney will default to the first choice. That means their agent will not make decisions for them until a doctor determines that they cannot make their own decisions.
terms:
  revoke: |
    To **revoke** a Power of Attorney means to undo, destroy, or void it.
---
id: when authorize warning
question: |
  Warning about authorization
subquestion: |
  % if for_yourself == True:
  If you do not decide when you want the Power of Attorney to begin, ${agent.name_full()} would not be able to help you until a doctor determines you are unable make your own decisions.
  % else:
  If ${principal.name_full()} does not decide when they want the Power of Attorney to begin, ${agent.name_full()} would not be able to help them until a doctor determines they are unable make their own decisions.
  % endif
continue button field: authorization_warning
---
depends on:
  - for_yourself
  - when_you_authorize
  - when_principal_authorize
code: |
  if for_yourself == True:
    when_authorize = when_you_authorize
  else:
    when_authorize = when_principal_authorize
---
depends on: 
  - when_authorize
  - health_records
code: |
  if when_authorize == "only":
    records_check = health_records
  if when_authorize == "now":
    records_check = True
  if when_authorize == "do_not":
    records_check = False
---
id: health records
question: |
  % if for_yourself == True:
  Do you want ${agent.name.full(middle='True')} to have complete access to your medical health records now?
  % else:
  Does ${principal.name.full(middle='True')} want ${agent.name.full(middle='True')} to have complete access to their medical health records now?
  % endif
subquestion: | 
  % if for_yourself == True:
  You can give ${agent.name_full()} access to your medical records before the Power of Attorney starts.

  If you click **Yes**, ${agent.name_full()} can access and request your medical records. This would make it easier for ${agent.name_full()} to communicate with your doctor and other health care providers.

  ${agent.name_full()} would have the authority to share your records with others as needed and could demand an opinion as to whether you are unable to make your own decisions.

  % else:
   ${principal.name_full()} can give ${agent.name_full()} access to their medical records before the Power of Attorney starts.

  If you click **Yes**, ${agent.name_full()} can access and request ${principal.name_full()}'s medical records. This would make it easier for ${agent.name_full()} to communicate with their doctor and other health care providers.

  ${agent.name_full()} would have the authority to share their records with others as needed and could demand an opinion as to whether ${principal.name_full()} is unable to make their own decisions.
  % endif
fields:
  - no label: health_records
    datatype: yesnoradio
---
template: video_life_quality
subject: |
  **Video: Quality of life and length of life**
content: |
  [YOUTUBE -1pMMIe4hb4]
---
#Add video "Quality of life and length of life"
id: quality of life you
question: |
  What life-sustaining treatment instructions do you want ${agent.name_full()} to follow?
subquestion: |
  These instructions will tell ${agent.name_full()} what to do if you are unconscious and your doctor believes you will never wake up.
  
  ${collapse_template(video_life_quality)}
field: quality_of_life_you
choices:
  - The quality of my life is more important than the length of my life.: quality
    help: |
      This means that if you are unconscious and your doctor believes you will never wake up or experience your surroundings, **${agent.name_full()} can take you off life support**. ${agent.name_full()} will not request treatments to prolong your life. However, they will still request pain relief treatment.
  - I want to stay alive as long as possible.: longevity
    help: |
      This means that ${agent.name_full()} will make choices to keep you alive as long as reasonably possible, even if you are suffering, brain-dead, or unable to recover.
  - I do not want to decide this now. My agent can make this decision in the future.: do_not
---
template: quality_explain_you

subject: |

  **What do the choices mean?**

content: |  
  **The quality of my life is more important than the length of my life.**
  If I am unconscious and my doctor (relying on accepted medical standards) believes that I will not wake up or recover my ability to think, communicate with my family and friends, and experience my surroundings, I do not want treatments to prolong my life or delay my death. However, I do want treatment or care to make me comfortable and to relieve me of pain.

  **I want my life to be prolonged to the greatest extent possible.**
  Staying alive is more important to me, no matter how sick I am, how much I am suffering, the cost of the procedures, or how unlikely my chances for recovery. I want my life to be prolonged to the greatest extent possible allowed by reasonable medical standards.
---
id: quality of life principal
question: |
  What life-sustaining treatment instructions does ${principal.name_full()} want ${agent.name_full()} to follow?
subquestion: |
  These instructions will tell ${agent.name_full()} what to do if ${principal.name_full()} is unconscious and their doctor believes they will never wake up.
  
  ${collapse_template(video_life_quality)}
field: quality_of_life_principal
choices:
  - The quality of their life is more important than the length of their life.: quality
    help: |
      This means that if ${principal.name_full()} is unconscious and their doctor believes they will never wake up or experience their surroundings, **${agent.name_full()} can take them off life support**. ${agent.name_full()} will not request treatments to prolong their life. However, they will still request pain relief treatment.
  - They want to stay alive as long as possible.: longevity
    help: |
      This means that ${agent.name_full()} will make choices to keep ${principal.name_full()} alive as long as reasonably possible, even if they are suffering, brain-dead, or unable to recover.
  - They do not want to decide this now.: do_not
---
template: quality_explain_principal

subject: |

  **What do the choices mean?**

content: |  
  **The quality of their life is more important than the length of their life.**
  If ${principal.name_full()} is unconscious and their doctor (relying on accepted medical standards) believes that they will not wake up or recover their ability to think, communicate with their family and friends, and experience their surroundings, ${principal.name_full()} does not want treatments to prolong my life or delay my death. However, ${principal.name_full()} does want treatment or care to make them comfortable and to relieve them of pain.

  **They want their life to be prolonged to the greatest extent possible.**
  Staying alive is more important to ${principal.name_full()}, no matter how sick they are, how much they are suffering, the cost of the procedures, or how unlikely their chances for recovery. ${principal.name_full()} wants their life to be prolonged to the greatest extent possible allowed by reasonable medical standards.
---
id: quality of life warning
question: |
  Warning about care preference
subquestion: |
  % if for_yourself == True:
  If you do not decide whether ${agent.name_full()} should focus on your quality of life or the length of your life, they would have to make that choice after talking with the doctor.
  % else:
  If ${principal.name_full()} does not decide whether ${agent.name_full()} should focus on their quality of life or the length of their life, ${agent.name_full()} would have to make that choice after talking with the doctor.
  % endif
continue button field: quality_warning
---
depends on:
  - for_yourself
  - quality_of_life_you
  - quality_of_life_principal
code: |
  if for_yourself == True:
    quality_of_life = quality_of_life_you
  else:
    quality_of_life = quality_of_life_principal
---
id: agent limitation
question: |
  % if for_yourself == True:
  Do you want to limit ${agent.name_full()}'s powers?
  % else:
  Does ${principal.name_full()} want to limit ${agent.name_full()}'s powers?
  % endif
subquestion: |
  % if for_yourself == True:
  ${agent.name_full()} will have the authority to make any decisions you could make to start or end any type of health care. 

   You may limit what they can decide. Some restrictions include:
  
  * Starting a specific treatment,
  * Stopping a specific treatment, or
  * Authorizing an autopsy.
  % else:
  ${principal.name_full()}'s agent will have the authority to make any decision ${principal.name_full()} could make to start or end any type of health care.

  ${principal.name_full()} may limit what they can decide. Some restrictions include:
  
  * Starting a specific treatment,
  * Stopping a specific treatment, or
  * Authorizing an autopsy.
  % endif
fields:
  - no label: agent_limitation
    datatype: yesnoradio
---
id: self remains disposal
question: |
  When you pass away, what would you like ${agent.name_full()} to do with your remains?
subquestion: |
  If you have a prepaid burial plan or cemetery plot, you should select **I have a specific preference** and enter information regarding the plan or plot.
  
  If you select **I do not have a preference**, ${agent.name_full()} will decide what to do with your remains.
fields: 
  - Preference: self_remains_preference
    input type: radio
    choices: 
    - I would prefer a burial for my remains.
    - I would prefer my remains be cremated.
    - I have a specific preference. (Explain below): specific
    - I do not have a preference.
  - Specific preference: self_specific_burial_preference
    input type: area
    rows: 7
    maxlength: 250
    show if: 
      variable: self_remains_preference
      is: "specific" 
---
id: other remains disposal
question: |
  If ${principal.name_full()} passes away, what would they like ${agent.name_full()} to do with their remains?
subquestion: |
  If ${principal.name_full()} has a prepaid burial plan or cemetery plot, you should select **They have a specific preference** and enter information regarding the plan or plot.
  
  If you select **I do not have a preference**, ${agent.name_full()} will decide what to do with ${principal.name_full()} remains.
fields: 
  - Preference: other_remains_preference
    input type: radio
    choices: 
    - They would prefer a burial for their remains.
    - They would prefer their remains be cremated.
    - They have a specific preference. (Explain below): specific
    - They do not have a preference.
  - Specific preference: other_specific_burial_preference
    input type: area
    maxlength: 250
    rows: 7
    help: |
      This answer should be written in the first person. For example, "I would prefer a natural burial for my remains."
    show if: 
      variable: other_remains_preference
      is: "specific" 
---
id: self organ donor
question: |
  Do you want to donate your organs?
field: self_organ_donor
choices: 
  - Yes
  - No
  - I would like my agent to decide this.
---
id: other organ donor
question: |
  Does ${principal.name_full()} want to donate their organs?
field: other_organ_donor
choices: 
  - Yes
  - No
  - They would like their agent to decide this.
---
depends on: 
  - for_yourself
  - principal.name.first
  - principal.name.middle
  - principal.name.last
  - principal.name.suffix
code: |
  if for_yourself:
    my_their = "my"
    subject_do_does = "I do"
    do_does_subject = "do you"
  else:
    my_their = "their"
    subject_do_does = principal.name_full()
    subject_do_does += " does"
    do_does_subject = "does "
    do_does_subject += principal.name_full()
---
id: other agent limits
question: |
  % if for_yourself == True:
  What limits or special rules do you want to include?
  % else:
  What limits or special rules does ${principal.name_full()} want to include?
  % endif
fields:
  - no label: limit_checkboxes
    datatype: checkboxes
    none of the above: False
    choices:
      - ${subject_do_does} not authorize an autopsy.: no_autopsy
      - ${subject_do_does} not authorize donation of ${my_their} remains to science.: no_science
      - ${subject_do_does} not authorize starting certain treatments. (Explain below): no_start
      - ${subject_do_does} not authorize ending certain treatments. (Explain below): no_end
      - Other limits: other
  - What treatments ${do_does_subject} not want to start?: no_start_text
    input type: area
    rows: 7
    show if: limit_checkboxes['no_start']
    maxlength: 250
  - What treatments ${do_does_subject} not want to end?: no_end_text
    input type: area
    rows: 7
    show if: limit_checkboxes['no_end']
    maxlength: 250
  - Other limits: other_limits
    input type: area
    rows: 7
    show if: limit_checkboxes['other']
    maxlength: 250
---
id: revocation info
continue button field: revocation_info
question: |
  About ending a Power of Attorney
subquestion: |
  % if for_yourself == True:
  You can change your mind and end your Power of Attorney for Health Care at any time. This is called revocation.

  Revocation means that you stop allowing ${agent.name_full()} to make decisions for you. To learn more, read ILAO's article on [**ending a Power of Attorney**](https://www.illinoislegalaid.org/legal-information/ending-power-attorney-0).
  % else:
  ${principal.name_full()} can change their mind and end their Power of Attorney for Health Care at any time. This is called revocation.

  Revocation means that ${principal.name_full()} stops allowing ${agent.name_full()} to make decisions for them. To learn more, read ILAO's article on [**ending a Power of Attorney**](https://www.illinoislegalaid.org/legal-information/ending-power-attorney-0). 
  % endif
---
id: delayed revocation
question: |
  % if for_yourself == True:
  Do you want to delay future revocation of this Power of Attorney?
  % else:
  Does ${principal.name_full()} want to delay future revocation of this Power of Attorney by 30 days?
  % endif
subquestion: |
  % if for_yourself == True:
    If you select **Yes** and **{revoke}** your Power of Attorney in the future, you will have a "cooling off period." ${agent.name_full()} will still be able to make decisions for you until 30 days after your revoke the Power of Attorney. You can use the 30 days to reflect on your decision. This can be helpful when decisions are made during a health crisis, a mental health episode, or while experiencing confusion or memory loss.
  
  If you select **No** and revoke your Power of Attorney in the future, ${agent.name_full()} will immediately be unable to make decisions for you.

  **Note**: You can **{revoke}** a Power of Attorney for Health Care even if you do not have **{legal capacity}**, but you would need legal capacity to make a new one.
  % else:
  If you select **Yes** and ${principal.name_full()} **{revoke}**s the Power of Attorney in the future, they will have a "cooling off period." ${agent.name_full()} will still be able to make decisions for them until 30 days after ${principal.name_full()}  revoke their Power of Attorney. They can use the 30 days to reflect on their decision. This can be helpful when decisions are made during a health crisis, a mental health episode, or while experiencing confusion or memory loss.
  
  If you select **No** and ${principal.name_full()} revokes the Power of Attorney in the future, ${agent.name_full()} will immediately be unable to make decisions for them.

  **Note**: ${principal.name_full()} can **{revoke}** a Power of Attorney for Health Care even if they do not have **{legal capacity}**, but they would need legal capacity to make a new one.
  % endif

  ${collapse_template(video_cooling)}
fields:
  - no label: delayed_revocation
    datatype: yesnoradio
terms:
  revoke: |
    To **revoke** a Power of Attorney means to undo, destroy, or void it.
  legal capacity: |
    You have the **legal capacity** to revoke a Power of Attorney for Health Care if you understand what you are signing and what it means for your future.
---
template: video_cooling
subject: |
  **Video: What is this 30-day cooling off period?**
content: |
  [YOUTUBE -1pMMIe4hb4]
---
depends on:
  - limit_checkboxes
  - no_start_text
  - no_end_text
  - other_limits
  - other_organ_donor
  - self_organ_donor
  - other_specific_burial_preference
  - self_specific_burial_preference
  - other_remains_preference
  - self_remains_preference
  - for_yourself
  - agent_limitation
code: |
  agent_instructions = ""
  if for_yourself == True:
    if self_remains_preference != "I do not have a preference.":
      if self_remains_preference != "specific":
        agent_instructions += self_remains_preference
        agent_instructions += " "
      elif self_remains_preference == "specific":
        agent_instructions += self_specific_burial_preference
    if self_organ_donor == "I would like my agent to decide this.":
      agent_instructions += " My agent is authorized to donate my organs at their discretion. "
    elif self_organ_donor == "No":
      agent_instructions += " My agent is not authorized to donate my organs. "
    elif self_organ_donor == "Yes":
      agent_instructions += " My agent should donate my organs. "
    if agent_limitation == True:
      if limit_checkboxes["no_autopsy"]:
        agent_instructions += " I do not authorize an autopsy."
      if limit_checkboxes["no_science"]:
        agent_instructions += " I do not authorize donation of my remains to science."
      if limit_checkboxes["no_start"]:
        agent_instructions += " I do not authorize starting these treatments: "
        agent_instructions += fix_punctuation(no_start_text)
      if limit_checkboxes["no_end"]:
        agent_instructions += " I do not authorize ending these treatments: "
        agent_instructions += fix_punctuation(no_end_text)
      if limit_checkboxes["other"]:
        agent_instructions += " "
        agent_instructions += fix_punctuation(other_limits)
      
  else:
    if other_remains_preference != "They do not have a preference.":
      if other_remains_preference != "specific":
        if other_remains_preference == "They would prefer a burial for their remains.":
          agent_instructions += "I would prefer a burial for my remains."
        elif other_remains_preference == "They would prefer their remains be cremated.":
          agent_instructions += "I would prefer my remains be cremated."

      elif other_remains_preference == "specific":
        agent_instructions += other_specific_burial_preference
    if other_organ_donor == "They would like their agent to decide this.":
      agent_instructions += " My agent is authorized to make a gift of my organs at their discretion. "
    elif other_organ_donor == "No":
      agent_instructions += " My agent is not authorized to make a gift of my organs. "
    elif other_organ_donor == "Yes":
      agent_instructions += " My agent should make a gift of my organs. "
    if agent_limitation == True:
      if limit_checkboxes["no_autopsy"]:
        agent_instructions += " I do not authorize an autopsy."
      if limit_checkboxes["no_science"]:
        agent_instructions += " I do not authorize donation of my remains to science."
      if limit_checkboxes["no_start"]:
        agent_instructions += " I do not authorize starting these treatments: "
        agent_instructions += fix_punctuation(no_start_text)
      if limit_checkboxes["no_end"]:
        agent_instructions += " I do not authorize ending these treatments: "
        agent_instructions += fix_punctuation(no_end_text)
      if limit_checkboxes["other"]:
        agent_instructions += " "
        agent_instructions += fix_punctuation(other_limits)
---
id: any successors
question: |
  % if for_yourself == True:
  Do you want to name successor agents?
  % else:
  Does ${principal.name_full()} want to name successor agents?
  % endif
subquestion: |
  % if for_yourself == True:
  The person named as a **{successor agent}** will have power of attorney for health care for you if ${agent.name_full()} dies, becomes **{incompetent}**, quits, or refuses to act as your power of attorney agent.
  
  If you list more than one successor agent, you should list them in order of preference
  % else:
  The person named as a successor agent will have power of attorney for health care for ${principal.name_full()} if ${agent.name_full()} dies, becomes **{incompetent}**, quits, or refuses to accept the office of agent.
  
  If ${principal.name_full()} lists more than one successor agent, they should list them in order of preference.
  % endif
fields:
  - no label: any_successors
    datatype: yesnoradio
terms:
  incompetent: |
    **Incompetent** means unable to handle one's own affairs due to illness, disability, or age. A person can be declared incompetent or legally disabled by a court. A person may be certified by a doctor as unable to make decisions or handle business affairs.
  successor agent: |
    A **successor agent** is a back-up agent to your first choice agent. They would act as your agent if your first agent is unavailable, passes away, or stops being your agent.
---
#mandatory: True
#continue button field: show_successors
#question: |
#  Your successors
#subquestion: |
#  % for x in successors:
#  * ${ x } lives at 
#  % if x.phone_number != "":
#  ${ x.address.on_one_line(bare=True) }
#  and can be reached at 
#  ${ phone_number_formatted(x.phone_number) }.
#  % else:
#  ${ x.address.on_one_line(bare=True) }.
#  % endif
#  % endfor
---
code: |
  successors[i].name.first
  successors[i].in_america
  successors[i].phone_number
  successors[i].complete = True
---
id: any other successors
question: |
  % if for_yourself == True:
  Do you want to name another successor agent?
  % else:
  Does ${principal.name_full()} want to name another successor agent?
  % endif
subquestion: |
  So far you have told us about ${successors.full_names()}.

  If you name another successor agent, they would only have power if both ${agent.name_full()} and the successors you've already entered are unavailable to act.
fields:
  - "Anyone else?": successors.there_is_another
    datatype: yesnoradio
---
sets:
  - successors[i].name.first
id: names of successors
question: |
  % if i == 0:
  What is the successor's name?
  % else:
  What is the ${ordinal(i)} successor's name?
  % endif  
fields:
  - First: successors[i].name.first
  - Middle: successors[i].name.middle
    required: False
  - Last: successors[i].name.last
  - Suffix: successors[i].name.suffix
    code: |
      name_suffix()
    required: False  
---
id: successor address
sets:
  - successors[i].in_america
question: |
  Enter ${successors[i].name_full()}'s address
subquestion: |
  ${collapse_template(success_intl_address_help)}
fields:
  - Does ${successors[i].name_full()} have a United States address?: successors[i].in_america
    datatype: yesnoradio
    default: True
    help: |
      Click **No** if you want to list an address outside the United States. You should enter the international address using the English alphabet.
  - Street address: successors[i].address.address
    address autocomplete: True
    required: False
    show if: successors[i].in_america
  - Address line 2: successors[i].address.unit
    required: False
    show if: successors[i].in_america
  - City: successors[i].address.city
    show if: successors[i].in_america
  - State: successors[i].address.state
    show if: successors[i].in_america
    code: |
      states_list() 
  - ZIP code: successors[i].address.zip 
    required: False
    show if: successors[i].in_america
  - Non-US address line 1 (street address, apartment number): successors[i].intl_address_1
    required: False
    show if: 
      variable: successors[i].in_america
      is: False
  - Non-US address line 2 (city, province or state, postal code, country): successors[i].intl_address_2
    show if: 
      variable: successors[i].in_america
      is: False
---
template: success_intl_address_help
subject: |
  **Does the sucessor agent have to live in the United States or be a US citizen?**
content: |
  No. You are able to list someone outside of the United States as the successor agent. The successor agent does not need to be a United States citizen. However, there may issues if a bank or financial organization is unable to reach them. You may want to ask a lawyer for advice. Use [**Get Legal Help**](https://www.illinoislegalaid.org/get-legal-help) to find free or low-cost legal services in your area.
  
  For international addresses, there will be space for two lines to enter the address. You should enter the international address using the English alphabet.
---
id: successor phone
sets:
  - successors[i].phone_number
question: |
  What is ${successors[i].name_full()}'s phone number?
subquestion: |
  % if for_yourself:
  A valid phone number is required so doctors or medical staff can contact your successor agent.
  % else:
  A valid phone number is required so doctors or medical staff can contact ${principal.name_full()}'s successor agent.
  % endif
fields:
  - Phone number: successors[i].phone_number
    datatype: al_international_phone
---
id: witness info
continue button field: witness_info
question: |
  About witnesses
subquestion: |
  % if for_yourself == True:
  When you sign the Power of Attorney, you will need a witness to watch you sign it and then sign the document themselves.

  The witness must be 18 or older and:
  
  * Cannot be your agent or your successor agent in this power of attorney document,  
  % if any_successors == True: 
  * Cannot be related to you by blood or marriage, to the agent (${agent.name_full()}), or to the successor agents (${comma_list(successors.complete_elements().full_names())}),
  % else:
  * Cannot be related to you by blood or marriage or to the agent (${agent.name_full()}),
  % endif
  * Cannot be a paid caregiver, and
  * Cannot be providing you with medical treatment (such as your doctor or nurse) or related to anyone providing you with medical treatment.
  % else:
  When ${principal.name_full()} signs the Power of Attorney, they will need witnesses to watch them sign it and then sign the document themselves.

  The witness must be 18 or older and:

  % if any_successors == True: 
  * Cannot be related by blood or marriage to ${principal.name_full()}, to the agent (${agent.name_full()}), or to the successor agents (${comma_list(successors.complete_elements().full_names())}),
  % else:
  * Cannot be related by blood or marriage to ${principal.name_full()} or to the agent (${agent.name_full()}),
  % endif
  * Cannot be named as the agent or a successor agent with power of attorney, 
  * Cannot be a paid caregiver, and
  * Cannot be providing ${principal.name_full()} with medical treatment (such as their doctor or nurse) or related to anyone providing them with medical treatment.
  % endif

  ${collapse_template(finding_witnesses)}
---
template: finding_witnesses
subject: |
  % if for_yourself == True:
  **How can I find a witness?**
  % else:
  **How can ${principal.name_full()} find a witness?**
  % endif
content: | 
  Neighbors, friends, acquaintances, members of a religious or social group, and social workers all could serve as a witness.
---
id: notary info
continue button field: notary_info
question: |
  About notarization
subquestion: |
  Illinois does not require a Power of Attorney for Health Care to be notarized, but some other states do require notarization. You may want to get your Power of Attorney notarized. You can find a notary public at a bank or currency exchange, and in some libraries.
  
  If you ever travel to another state, it would be helpful for your Power of Attorney to be notarized with two witness signatures.
  
  It is still worth making a Power of Attorney even with just one witness signature.
---
id: witness known
question: |
  % if for_yourself == True:
  Do you want to name a witness to the signing of the Power of Attorney now?
  % else:
  Does ${principal.name_full()} want to name a witness to the signing of the Power of Attorney now?
  % endif
subquestion: |
  % if for_yourself == True:
  This is optional. You do not need to know this now. You can leave the witness section of the form blank for now and complete it later when you know who will be your witness.

  % else:
  This is optional. ${principal.name_full()} does not need to know this now. They can leave the witness section of the form blank for now and complete it later when they know who will be their witness.
  % endif
fields:
  - no label: witness_known
    datatype: yesnoradio
---
id: second witness known
question: |
  % if for_yourself:
  Do you want to include a second witness on the Power of Attorney for Health Care?
  % else:
  Does ${principal.name_full()} want to include a second witness on the Power of Attorney for Health Care?
  % endif
subquestion: |
    You do not need a second witness in Illinois. However, other states may not recognize Power of Attorney forms with only one witness.
fields:
  - no label: second_witness_known
    datatype: yesnoradio
---
template: do_not_know
subject: |
  % if for_yourself == True:
  **What if I don't know this now?**
  % else:
  **What if ${principal.name_full()} does not know this now?**
  % endif
content: | 
  % if for_yourself == True:
  You can leave the witness section of the form blank for now and complete it later when you know who will be your witness.
  % else:
  ${principal.name_full()} can leave the witness section of the form blank for now and complete it later when they know who will be their witness.
  % endif
---
id: witness name
question: |
  % if i == 0:
  What is the witness's name?
  % else:
  What is the second witness's name?
  % endif
fields:
  - First: witnesses[i].name.first
  - Middle: witnesses[i].name.middle
    required: False
  - Last: witnesses[i].name.last
---
id: witness address
question: |
  What is ${witnesses[i].name_full()}'s address?
subquestion: |
  If you do not know their address, you can leave this blank.
  
  ${collapse_template(witness_intl_address_help)}
fields:
  - Does ${witnesses[i].name_full()} have a United States address?: witnesses[i].in_america
    datatype: yesnoradio
    default: True
    required: False
    help: |
      Click **No** if you want to list an address outside the United States. You should enter the international address using the English alphabet.
  - Street address: witnesses[i].address.address
    address autocomplete: True
    required: False
    show if: witnesses[i].in_america
  - Address line 2: witnesses[i].address.unit
    required: False
    show if: witnesses[i].in_america
  - City: witnesses[i].address.city
    show if: witnesses[i].in_america
    required: False
  - State: witnesses[i].address.state
    show if: witnesses[i].in_america
    code: |
      states_list() 
    required: False
  - ZIP code: witnesses[i].address.zip
    show if: witnesses[i].in_america
    required: False
  - Non-US address line 1 (street address, apartment number): witnesses[i].intl_address_1
    show if: 
      variable: witnesses[i].in_america
      is: False
    required: False
  - Non-US address line 2 (city, province or state, postal code, country): witnesses[i].intl_address_2
    show if: 
      variable: witnesses[i].in_america
      is: False
    required: False
---
template: witness_intl_address_help
subject: |
  **What if my witness does not have a United States address?**
content: | 
  You can list an address outside of the United States for your witness. For international addresses, there will be space for two lines to enter the address. You should enter the international address using the English alphabet.
---
depends on:
  - witness_known
  - second_witness_known
  - witnesses[0].in_america
  - witnesses[0].address.address
  - witnesses[0].address.unit
  - witnesses[0].address.city
  - witnesses[0].address.state
  - witnesses[0].address.zip
  - witnesses[0].intl_address_1
  - witnesses[0].intl_address_2
  - witnesses[1].in_america
  - witnesses[1].address.address
  - witnesses[1].address.unit
  - witnesses[1].address.city
  - witnesses[1].address.state
  - witnesses[1].address.zip
  - witnesses[1].intl_address_1
  - witnesses[1].intl_address_2
code: |
  if witness_known == True:
    if witnesses[0].in_america == True:
      if witnesses[0].address.address != "":
        witnesses[0].address_string = witnesses[0].address.on_one_line(bare=True)
      else:
        witnesses[0].address_string = ""
    else:
      if witnesses[0].intl_address_1 != "":
        witnesses[0].address_string = witnesses[0].intl_address_1 + ", " + witnesses[0].intl_address_2
      else:
        witnesses[0].address_string = ""
    if second_witness_known:
      if witnesses[1].in_america == True:
        if witnesses[1].address.address != "":
          witnesses[1].address_string = witnesses[1].address.on_one_line(bare=True)
        else:
          witnesses[1].address_string = ""
      else:
        if witnesses[1].intl_address_1 != "":
          witnesses[1].address_string = witnesses[1].intl_address_1 + ", " + witnesses[1].intl_address_2
        else:
          witnesses[1].address_string = ""
  else:
    witnesses[0].address_string = ""
---
#depends on:
  #-successors[i].name.first
code: |
  if successors.number_gathered() >= 4:
    successors.there_is_another = False
  #cap_at_4 = True
---
depends on:
  - successors[i].name.first
  - successors[i].name.middle
  - successors[i].name.last
  - successors[i].address.address
  - successors[i].address.unit
  - successors[i].address.city
  - successors[i].address.state
  - successors[i].address.zip
  - successors[i].phone_number
  - any_successors
  - successors[i].intl_address_1
  - successors[i].intl_address_2
  - successors[i].in_america
code: |
  if successors.number_gathered() > 0:
    #for person in successors:
      #success_strings[person.index()].text_block
    success_strings[0]
  if successors.number_gathered() > 1:
    success_strings[1]
  if successors.number_gathered() > 2:
    success_strings[2]
  if successors.number_gathered() > 3:
    success_strings[3]
  list_successors = True
---
depends on:
  - any_successors
  - successors[i].name.first
  - successors[i].name.middle
  - successors[i].name.last
  - successors[i].address.address
  - successors[i].address.unit
  - successors[i].address.city
  - successors[i].address.state
  - successors[i].address.zip
  - successors[i].phone_number
  - successors[i].in_america
  - successors[i].intl_address_1
  - successors[i].intl_address_2
code: |
  success_strings[i] = successors[i].name_full() + ", " 
  if successors[i].in_america == True:
    success_strings[i] += successors[i].address.on_one_line(bare=True)
  else:
    success_strings[i] += successors[i].intl_address_1 + ", " + successors[i].intl_address_2
  if successors[i].phone_number != "":
    success_strings[i] += ", " + str(phone_number_formatted(successors[i].phone_number))


#  if defined('successors[i].phone_number'):
#    successors[i].proper_number = str(phone_number_formatted(successors[i].phone_number))
#  else:
#    successors[i].proper_number = ""
#  if defined('successors[i].phone_number') == False:
#    success_strings[i].text_block = successors[i].name_full() + ", " + successors[i].address.on_one_line(bare=True)
#  elif successors[i].proper_number != "None": 
#    success_strings[i].text_block = successors[i].name_full() + ", " + successors[i].address.on_one_line(bare=True) + ", " + successors[i].proper_number
#  else:
#    success_strings[i].text_block = successors[i].name_full() + ", " + successors[i].address.on_one_line(bare=True)
---
id: completion reminder
question: |
  Reminder about unanswered questions
subquestion: |
  % if for_yourself == True:
  % if quality_of_life == "do_not":
  % if when_authorize == "do_not":
  You have left some decisions to be made later. You may want to review your Power of Attorney for Health Care form and make those choices before signing it.
  % else:
  You have not decided whether you want ${agent.name_full()} to prioritize your quality of life or the length of your life. You may want to review your Power of Attorney for Health Care form and make that choice before signing it.
  % endif
  % else:
  % if when_authorize == "do_not":
  You have not decided when you want ${agent.name_full()} to start making decisions for you. You may want to review your Power of Attorney for Health Care form and make that choice before signing it.
  % endif
  % endif
  % else:
  % if quality_of_life == "do_not":
  % if when_authorize == "do_not":
  ${principal.name_full()} has left some decisions to be made later. They may want to review their Power of Attorney for Health Care form and make those choices before signing it.
  % else:
  ${principal.name_full()} has not decided whether they want ${agent.name_full()} to prioritize their quality of life or the length of their life. They may want to review your Power of Attorney for Health Care form and make that choice before signing it.
  % endif
  % else:
  % if when_authorize == "do_not":
  ${principal.name_full()} has not decided when they want ${agent.name_full()} to start making decisions for them. They may want to review their Power of Attorney for Health Care form and make that choice before signing it.
  % endif
  % endif
  % endif
continue button field: completion_reminder
---
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
#Add Power of Planning Information to templates
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your forms are ready. View and download your forms below. Click **Make changes** to fix any mistakes.

  [YOUTUBE -1pMMIe4hb4]
  
  Read the instructions to learn what to do next.
  
  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }
 
  &nbsp;

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }
  
  **Note:** The Power of Attorney needs to be signed in front of at least one witness to become official.

  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

 
  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Power of Attorney for Health Care
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [Illinois Legal Aid Online](https://www.illinoislegalaid.org)
---
attachment:
  - name: Instructions
    variable name: instructions[i]
    filename: instructions_for_poa_health_care
    pdf template file: cdel_poa_health_instructions.pdf
    skip undefined: True
    editable: False
    fields:
      - "fake": ${""}
---
# creates a single string variable for international address
depends on:
  - agent.intl_address_1
  - agent.intl_address_2
code: |
  agent.intl_address_full = agent.intl_address_1
  agent.intl_address_full += ", "
  agent.intl_address_full += agent.intl_address_2
---
attachment:
  - name: Power of Attorney for Health Care
    variable name: poa_health_care[i]
    filename: poa_health_care
    pdf template file: powerofattorneyhealthcareform.pdf
    skip undefined: True
    editable: False
    fields:
      - "principal_name": |
          % if also_known_as:
          % if formerly_or_also:
          ${ principal.name_full() }, formerly known as ${principal.aka_name}
          % else:
          ${ principal.name_full() }, also known as ${principal.aka_name}
          % endif
          % else:
          ${ principal.name_full() }
          % endif
      - "principal_address": ${ principal.address.on_one_line(bare=True)}
      - "agent_name": ${ agent.name_full()}
      - "agent_address": ${ agent.address.on_one_line(bare=True) if agent.in_america == True else agent.intl_address_full}
      - "agent_phone": ${ phone_number_formatted(agent.phone_number) }
      - "agent_is_guardian": ${is_guardian}
      - "later_no_records": ${True if when_authorize == 'only' and health_records == False else False}
      - "later_yes_records": ${True if when_authorize == 'only' and health_records == True else False}
      - "decisions_now": ${True if when_authorize == 'now' else False}
      - "quality_of_life": ${True if quality_of_life == 'quality' else False}
      - "stay_alive": ${True if quality_of_life == 'longevity' else False}
      - "agent_limits": ${agent_instructions}
      - "witness_name": ${witnesses[0].name_full() if witness_known == True else ""}
      - "witness_address": ${witnesses[0].address_string if witness_known else ""}
      - "second_witness_optional": |
          SECOND WITNESS (OPTIONAL)
      - "witness_printed_name": |
          Witness printed name:
      - "witness_2_name": |
          % if witness_known and second_witness_known:
          ${witnesses[1].name_full()}
          % endif
      - "witness_2_name_underline": |
          ____________________________________________________________________________________________
      - "witness_address_text": |
          Witness address:
      - "witness_2_address_underline": |
          ________________________________________________________________________________________________
      - "witness_2_address": |
          % if witness_known and second_witness_known:
          ${witnesses[1].address_string}
          % endif
      - "witness_2_sign_line": |
          Witness signature: _______________________________________________________________
      - "witness_2_date_line": |
          Today's date: ____________________
      - "successor_one": ${success_strings[0] if successors.number_gathered() > 0 else ""}
      - "successor_two": ${success_strings[1] if successors.number_gathered() > 1 else ""}
      - "successor_three": ${success_strings[2] if successors.number_gathered() > 2 else ""}
      - "successor_four": ${success_strings[3] if successors.number_gathered() > 3 else ""}
      - "yes_delay": ${True if delayed_revocation == True else False}
      - "no_delay": ${False if delayed_revocation == True else True}
      - "notary_title": |
          NOTARY (OPTIONAL)
      - "notary_block": |
          State of ____________________________ }
                                                                                } SS. 
          County of __________________________ }

          The undersigned, a notary public in and for the above county and state, certifies that __________________________________________, known to me to be the same person whose name is subscribed as principal to the foregoing power of attorney, appeared before me and the witness(es) __________________________________________ (and __________________________________________) in person and acknowledged signing and delivering the instrument as the free and voluntary act of the principal, for the uses and purposes therein set forth, and certified to the correctness of the signature(s) of the agent(s)). 
 
          Dated: _________________ 	 Signature: ________________________________ 
                                                                                                                    Notary Public
          My commission expires: _____________________________________________ 

---
objects:
  - poa_health_care: ALDocument.using(title="Power of Attorney for Health Care", filename="poa_health_care", enabled=True, has_addendum=False)
  - instructions: ALDocument.using(title="Instructions", filename="instructions", enabled=True, has_addendum=False)
  - planning: ALDocument.using(title="Power of Planning", filename="power_of_planning", enabled=True, has_addendum=False)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, poa_health_care], filename="power_of_attorney_health_care.pdf", title="All forms")
  - al_court_bundle: ALDocumentBundle.using(elements=[poa_health_care], filename="power_of_attorney_health_care.pdf", title="All forms")
---
id: review screen
event: review_answers
question: |
  Review screen
subquestion: |
  Edit your answers below.
review: 
  - Edit: for_yourself
    button: |
      **You are making these forms for:**
      % if for_yourself == True:
      Myself
      % else:
      Someone else
      % endif
  - Edit: principal.name.first
    button: |
      % if for_yourself == True:
      **Your name:**
      % else:
      **The principal's name:**
      % endif
      % if also_known_as:
      ${ principal.name_full() }, also known as ${principal.aka_name}
      % else:
      ${ principal.name_full() }
      % endif
  - Edit: formerly_or_also
    button: |
      **Is ${principal.aka_name} a former legal name?**
      ${word(yesno(formerly_or_also))}
    show if: also_known_as
  - Edit: principal.address.address
    button: |
      % if for_yourself == True:
      **Your address:**
      % else:
      **${principal.name_full()}'s address:**
      % endif
      ${principal.address.on_one_line(bare=True)}
  - Edit: agent.name.first
    button: |
      **The agent's name:**
      ${agent.name_full()}
  - Edit: agent.in_america
    button: |
      **${agent.name_full()}'s address:**
      % if agent.in_america == True:
      ${agent.address.on_one_line(bare=True)}
      % else:
      ${agent.intl_address_1}, ${agent.intl_address_2}
      % endif
  - Edit: agent.phone_number
    button: |
      **${agent.name_full()}'s phone number:**
      % if agent.phone_number != "":
      ${phone_number_formatted(agent.phone_number)}
      % else:
      None entered
      % endif
  - Edit: is_guardian
    button: |
      % if for_yourself == True:
      **Do you want ${agent.name_full()} to serve as your legal guardian?**
      % else:
      **Does ${principal.name_full()} want ${agent.name_full()} to serve as their legal guardian?**
      % endif
      ${word(yesno(is_guardian))}
  - Edit: when_you_authorize
    button: |
      **${agent.name_full()} is authorized to make decisions:**
      % if when_authorize == 'only':
      Only when I cannot make decisions for myself.
      % endif
      % if when_authorize == 'now':
      Now and continuing after I am no longer able to make decisions for myself.
      % endif
      % if when_authorize == 'do_not':
      I do not want to decide this now.
      % endif
    show if: for_yourself
  - Edit: when_principal_authorize
    button: |
      **${agent.name_full()} is authorized to make decisions:**
      % if when_authorize == 'only':
      Only when ${principal.name_full()} cannot make decisions for their self.
      % endif
      % if when_authorize == 'now':
      Now and continuing after ${principal.name_full()} is no longer able to make decisions for their self.
      % endif
      % if when_authorize == 'do_not':
      ${principal.name_full()} does not want to decide this now.
      % endif
    show if: for_yourself == False
  - Edit: health_records
    button: |
      % if for_yourself == True:
      **Will ${agent.name_full()} have access to your medical records?**
      % else:
      **Will ${agent.name_full()} have access to ${principal.name_full()}'s medical records?**
      % endif
      ${word(yesno(health_records))}
  - Edit: quality_of_life_you
    button: |
      **Your treatment instructions:**
      % if quality_of_life == 'quality':
      The quality of my life is more important than the length of my life.
      % endif
      % if quality_of_life == 'longevity':
      I want my life to be prolonged to the greatest extent possible.
      % endif
      % if quality_of_life == 'do_not':
      I do not want to decide this now.
      % endif
    show if: for_yourself
  - Edit: quality_of_life_principal
    button: |
      **${principal.name_full()}'s treatment instructions:**
      % if quality_of_life == 'quality':
      The quality of their life is more important than the length of their life.
      % endif
      % if quality_of_life == 'longevity':
      They want their life to be prolonged to the greatest extent possible.
      % endif
      % if quality_of_life == 'do_not':
      They do not want to decide this now.
      % endif
    show if: for_yourself == False
  - Edit: self_remains_preference
    button: |
      **Your disposition of remains instructions:**
      % if self_remains_preference != "specific":
      ${self_remains_preference}
      % else:
      ${self_specific_burial_preference}
      % endif
    show if: for_yourself
  - Edit: other_remains_preference
    button: |
      **${principal.name_full()}'s disposition of remains instructions:**
      % if other_remains_preference != "specific":
      ${other_remains_preference}
      % else:
      ${other_specific_burial_preference}
      % endif
    show if: for_yourself == False
  - Edit: self_organ_donor
    button: |
      **Would you like to donate your organs?**
      ${self_organ_donor}
    show if: for_yourself
  - Edit: other_organ_donor
    button: |
      **Would ${principal.name_full()} like to donate their organs?**
      ${other_organ_donor}
    show if: for_yourself == False
  - Edit: agent_limitation
    button: |  
      **Is ${agent.name_full()}'s power limited?**
      ${word(yesno(agent_limitation))}
  - Edit: limit_checkboxes
    button: |
      **Limits for ${agent.name_full()}:**

      % if limit_checkboxes['no_autopsy']:
      * ${subject_do_does} not authorize an autopsy.
      % endif
      % if limit_checkboxes['no_science']:
      * ${subject_do_does} not authorize donation of ${my_their} remains to science.
      % endif
      % if limit_checkboxes['no_start']:
      * ${subject_do_does} not authorize starting these treatments: ${fix_punctuation(no_start_text)}
      % endif
      % if limit_checkboxes['no_end']:
      * ${subject_do_does} not authorize ending these treatments: ${fix_punctuation(no_end_text)}
      % endif
      % if limit_checkboxes['other']:
      * ${fix_punctuation(other_limits)}
      % endif
    show if: agent_limitation
  - Edit: delayed_revocation
    button: |
      % if for_yourself == True:
      **Do you want to delay future revocation of this Power of Attorney by 30 days?**
      % else:
      **Does ${principal.name_full()} want to delay future revocation of this Power of Attorney by 30 days?**
      % endif
      ${word(yesno(delayed_revocation))}
  - Edit: any_successors
    button: |
      **Are there any successor agents?**
      ${word(yesno(any_successors))}
  - Edit: successors.revisit
    button: |
      **Successor agents: (Edit to change names, addresses, and phone numbers)**

      % for my_var in successors:
        * ${ my_var.name_full() }
      % endfor    
    show if: any_successors
  - Edit: witness_known
    button: |
      % if for_yourself == True:
      **Do you know who will witness you signing the Power of Attorney?**
      % else:
      **Does ${principal.name_full()} know who will witness them signing the Power of Attorney?**
      % endif
      ${word(yesno(witness_known))}
  - Edit: witnesses[0].name.first
    button: |
      **The witness's name:**
      ${witnesses[0].name_full()}
    show if: witness_known
  - Edit: witnesses[0].in_america
    button: |
      **${witnesses[0].name_full()}'s address:**
      % if witnesses[0].in_america == True:
      ${witnesses[0].address.on_one_line(bare=True)}
      % else:
      ${witnesses[0].intl_address_1}, ${witnesses[0].intl_address_2}
      % endif
    show if: witness_known
  - Edit: second_witness_known
    button: |
      **Do you want to include a second witness?**
      ${word(yesno(second_witness_known))}
  - Edit: witnesses[1].name.first
    button: |
      **The witness's name:**
      ${witnesses[1].name_full()}
    show if: witness_known and second_witness_known
  - Edit: witnesses[1].in_america
    button: |
      **${witnesses[1].name_full()}'s address:**
      % if witnesses[1].in_america == True:
      ${witnesses[1].address.on_one_line(bare=True)}
      % else:
      ${witnesses[1].intl_address_1}, ${witnesses[1].intl_address_2}
      % endif
    show if: witness_known and second_witness_known
---
id: successors review screen
continue button field: successors.revisit
question: |
  Edit the successors
subquestion: |
  ${ successors.table }

  % if successors.number_gathered() < 4:
  ${ successors.add_action() }
  % endif
---
id: successor review screen
continue button field: x.review_successor
generic object: ALIndividual
question: |
  Edit ${ x.name_full() }'s information
review: 
  - Edit: x.name.first
    button: |
      **Successor name:**
      ${ x.name_full()  }
  - Edit: x.in_america
    button: |
      **${ x.name_full() }'s address:**
      % if x.in_america == True:
      ${ x.address.on_one_line(bare=True) }
      % else:
      ${x.intl_address_1}, ${x.intl_address_2}
      % endif
  - Edit: x.phone_number
    button: |
      **${ x.name_full() }'s phone number:**
      ${ phone_number_formatted(x.phone_number) }
---
id: successors table
table: successors.table
rows: successors
columns:
  - Name: |
      row_item.name_full() if defined("row_item.name.first") else ""
  - Successor, address, and phone number: |
      action_button_html(url_action(row_item.attr_name("review_successor")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True

#id: successors table
#table: successors.table
#rows: successors
#columns:
#  - Name: |
#      row_item.name_full() if defined("row_item.name.first") else ""
#  - Address: |
#      row_item.address.on_one_line(bare=True) if defined("row_item.address.address") else ""
#  - Phone: |
#      phone_number_formatted(row_item.phone_number) if defined("row_item.phone_number") else ""
#edit:
#  - name.first
#  - address.address
#  - phone_number
#delete buttons: True
#confirm: True
---
section: Principal
id: principal review screen
event: section_principal
question: |
  About the principal
subquestion: |
  Edit your answers below.
review:
  - Edit: for_yourself
    button: |
      **You are making these forms for:**
      % if for_yourself == True:
      Myself
      % else:
      Someone else
      % endif
  - Edit: principal.name.first
    button: |
      % if for_yourself == True:
      **Your name:**
      % else:
      **The principal's name:**
      % endif
      % if also_known_as:
      ${ principal.name_full() }, also known as ${principal.aka_name}
      % else:
      ${ principal.name_full() }
      % endif
  - Edit: formerly_or_also
    button: |
      **Is ${principal.aka_name} a former legal name?**
      ${word(yesno(formerly_or_also))}
    show if: also_known_as
  - Edit: principal.address.address
    button: |
      % if for_yourself == True:
      **Your address:**
      % else:
      **${principal.name_full()}'s address:**
      % endif
      ${principal.address.on_one_line(bare=True)}
---
section: Agent and powers
id: agent review screen
event: section_agent
question: |
  About the agent
subquestion: |
  Edit your answers below.
review:
  - Edit: agent.name.first
    button: |
      **The agent's name:**
      ${agent.name_full()}
  - Edit: agent.in_america
    button: |
      **${agent.name_full()}'s address:**
      % if agent.in_america == True:
      ${agent.address.on_one_line(bare=True)}
      % else:
      ${agent.intl_address_1}, ${agent.intl_address_2}
      % endif
  - Edit: agent.phone_number
    button: |
      **${agent.name_full()}'s phone number:**
      % if agent.phone_number != "":
      ${phone_number_formatted(agent.phone_number)}
      % else:
      None entered
      % endif
  - Edit: is_guardian
    button: |
      % if for_yourself == True:
      **Do you want ${agent.name_full()} to serve as your legal guardian?**
      % else:
      **Does ${principal.name_full()} want ${agent.name_full()} to serve as their legal guardian?**
      % endif
      ${word(yesno(is_guardian))}
  - Edit: when_you_authorize
    button: |
      **${agent.name_full()} is authorized to make decisions:**
      % if when_authorize == 'only':
      Only when I cannot make decisions for myself.
      % endif
      % if when_authorize == 'now':
      Now and continuing after I am no longer able to make decisions for myself.
      % endif
      % if when_authorize == 'do_not':
      I do not want to decide this now.
      % endif
    show if: for_yourself
  - Edit: when_principal_authorize
    button: |
      **${agent.name_full()} is authorized to make decisions:**
      % if when_authorize == 'only':
      Only when ${principal.name_full()} cannot make decisions for their self.
      % endif
      % if when_authorize == 'now':
      Now and continuing after ${principal.name_full()} is no longer able to make decisions for their self.
      % endif
      % if when_authorize == 'do_not':
      ${principal.name_full()} does not want to decide this now.
      % endif
    show if: for_yourself == False
  - Edit: health_records
    button: |
      % if for_yourself == True:
      **Will ${agent.name_full()} have access to your medical records?**
      % else:
      **Will ${agent.name_full()} have access to ${principal.name_full()}'s medical records?**
      % endif
      ${word(yesno(health_records))}
  - Edit: quality_of_life_you
    button: |
      **Your treatment instructions:**
      % if quality_of_life == 'quality':
      The quality of my life is more important than the length of my life.
      % endif
      % if quality_of_life == 'longevity':
      I want my life to be prolonged to the greatest extent possible.
      % endif
      % if quality_of_life == 'do_not':
      I do not want to decide this now.
      % endif
    show if: for_yourself
  - Edit: quality_of_life_principal
    button: |
      **${principal.name_full()}'s treatment instructions:**
      % if quality_of_life == 'quality':
      The quality of their life is more important than the length of their life.
      % endif
      % if quality_of_life == 'longevity':
      They want their life to be prolonged to the greatest extent possible.
      % endif
      % if quality_of_life == 'do_not':
      They do not want to decide this now.
      % endif
    show if: for_yourself == False
  - Edit: self_remains_preference
    button: |
      **Your disposition of remains instructions:**
      % if self_remains_preference != "specific":
      ${self_remains_preference}
      % else:
      ${self_specific_burial_preference}
      % endif
    show if: for_yourself
  - Edit: other_remains_preference
    button: |
      **${principal.name_full()}'s disposition of remains instructions:**
      % if other_remains_preference != "specific":
      ${other_remains_preference}
      % else:
      ${other_specific_burial_preference}
      % endif
    show if: for_yourself == False
  - Edit: self_organ_donor
    button: |
      **Would you like to donate your organs?**
      ${self_organ_donor}
    show if: for_yourself
  - Edit: other_organ_donor
    button: |
      **Would ${principal.name_full()} like to donate their organs?**
      ${other_organ_donor}
    show if: for_yourself == False
  - Edit: agent_limitation
    button: |  
      **Is ${agent.name_full()}'s power limited?**
      ${word(yesno(agent_limitation))}
  - Edit: limit_checkboxes
    button: |
      **Limits for ${agent.name_full()}:**

      % if limit_checkboxes['no_autopsy']:
      * ${subject_do_does} not authorize an autopsy.
      % endif
      % if limit_checkboxes['no_science']:
      * ${subject_do_does} not authorize donation of ${my_their} remains to science.
      % endif
      % if limit_checkboxes['no_start']:
      * ${subject_do_does} not authorize starting these treatments: ${fix_punctuation(no_start_text)}
      % endif
      % if limit_checkboxes['no_end']:
      * ${subject_do_does} not authorize ending these treatments: ${fix_punctuation(no_end_text)}
      % endif
      % if limit_checkboxes['other']:
      * ${fix_punctuation(other_limits)}
      % endif
    show if: agent_limitation
  - Edit: delayed_revocation
    button: |
      % if for_yourself == True:
      **Do you want to delay future revocation of this Power of Attorney by 30 days?**
      % else:
      **Does ${principal.name_full()} want to delay future revocation of this Power of Attorney by 30 days?**
      % endif
      ${word(yesno(delayed_revocation))}
---
section: Successor agents
id: successors review screen
event: section_successors
question: |
  About the successor agents
subquestion: |
  Edit your answers below.
review:
  - Edit: any_successors
    button: |
      **Are there any successor agents?**
      ${word(yesno(any_successors))}
  - Edit: successors.revisit
    button: |
      **Successor agents: (Edit to change names, addresses, and phone numbers)**

      % for my_var in successors:
        * ${ my_var.name_full() }
      % endfor    
    show if: any_successors
---
section: Witness
id: witness review screen
event: section_witness
question: |
  About the witness
subquestion: |
  Edit your answers below.
review:
  - Edit: witness_known
    button: |
      % if for_yourself == True:
      **Do you know who will witness you signing the Power of Attorney?**
      % else:
      **Does ${principal.name_full()} know who will witness them signing the Power of Attorney?**
      % endif
      ${word(yesno(witness_known))}
  - Edit: witnesses[0].name.first
    button: |
      **The witness's name:**
      ${witnesses[0].name_full()}
    show if: witness_known
  - Edit: witnesses[0].in_america
    button: |
      **${witnesses[0].name_full()}'s address:**
      % if witnesses[0].in_america == True:
      ${witnesses[0].address.on_one_line(bare=True)}
      % else:
      ${witnesses[0].intl_address_1}, ${witnesses[0].intl_address_2}
      % endif
    show if: witness_known
  - Edit: second_witness_known
    button: |
      **Do you want to include a second witness?**
      ${word(yesno(second_witness_known))}
  - Edit: witnesses[1].name.first
    button: |
      **The witness's name:**
      ${witnesses[1].name_full()}
    show if: witness_known and second_witness_known
  - Edit: witnesses[1].in_america
    button: |
      **${witnesses[1].name_full()}'s address:**
      % if witnesses[1].in_america == True:
      ${witnesses[1].address.on_one_line(bare=True)}
      % else:
      ${witnesses[1].intl_address_1}, ${witnesses[1].intl_address_2}
      % endif
    show if: witness_known and second_witness_known